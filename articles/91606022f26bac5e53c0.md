---
title: "ä»Šæ›´ãªãŒã‚‰ï¼Œç§˜æ›¸BOTã«å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å°Žå…¥ã—ãŸ"
emoji: "ðŸ”–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Ruby","RSpec"]
published: true
---
# èƒŒæ™¯
ç¾åœ¨é€²è¡Œç³»ã§é–‹ç™ºä¸­ã®ç§˜æ›¸BOTï¼Œä»Šã¾ã§ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ãªã‚‹ã‚‚ã®ã‚’ä½œã£ã¦ã¾ã›ã‚“ã§ã—ãŸ
è‰²ã‚“ãªç†ç”±ã§æ©Ÿèƒ½ãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ï¼Œãƒ‡ã‚°ãƒ¬ã—ãªã„ã“ã¨ã‚’è¦–é‡Žã«å…¥ã‚Œã¦ï¼Œã€Œã›ã‚ã¦å˜ä½“ãƒ†ã‚¹ãƒˆãƒ¬ãƒ™ãƒ«ã ã‘ã§ã‚‚ãƒ»ãƒ»ãƒ»ã€ã¨æ€ã„å°Žå…¥ã—ã¾ã—ãŸ

# å°Žå…¥ã—ãŸã‚‚ã®
Rubyã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ãŒï¼Œä»Šå›žã¯ãã‚Œã‚’å·®ã—ç½®ã„ã¦RSpecã‚’å°Žå…¥ã—ã¾ã—ãŸ
ãã®ä»–ï¼Œä»¥ä¸‹ã®gemã‚’è¿½åŠ ã—ã¾ã—ãŸ

* RSpec(3.8.0)
* rspec-parameterized(0.4.0)
* simplecov(0.16.1)

## RSpec
è¨€ã‚ãšã¨çŸ¥ã‚ŒãŸ(?)Rubyã®å˜ä½“ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã§ã™
å…·ä½“çš„ã«ã¯ï¼Œã‚¯ãƒ©ã‚¹ã‚„ãƒ¡ã‚½ãƒƒãƒ‰å˜ä½ã§å®Ÿéš›ã«å®Ÿè¡Œã—ã¦æ¤œè¨¼ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™
ä»Šå›žã¯ã“ã‚Œã‚’ä½¿ã£ã¦ï¼Œã‚‚ãã‚‚ããƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ›¸ã„ã¦ã„ãã¾ã—ãŸ

## rspec-parameterized
RSpecã«ã¯ãƒ‘ãƒ©ãƒ¡ã‚¿ãƒ©ã‚¤ã‚ºãƒ‰ãƒ†ã‚¹ãƒˆãŒã§ããªã„ã¿ãŸã„ãªã®ã§ï¼Œãã‚Œã‚’ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãã‚Œã‚‹gemã§ã™

## simplecov
ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å–ã£ã¦ãã‚Œã¾ã™
ã©ã®è¡Œã‚’ãƒ†ã‚¹ãƒˆã—ãŸã‹ã‚’è¦‹ãŸã„ãŸã‚ã«å°Žå…¥ã—ã¦ã¾ã™

# ç’°å¢ƒæ§‹ç¯‰
## gemã®install
ã¾ãšã¯`Gemfile`ã«ä»Šå›žã®gemã‚’å°Žå…¥ã—ã¾ã™

```
gem 'rspec'
gem 'rspec-parameterized'
gem 'simplecov'
```

ãã—ã¦ï¼Œã„ã¤ã‚‚ã®ã‚ˆã†ã«`bundle`ã‚’å®Ÿè¡Œã—ã¾ã™

```
$ bundle
```

ã“ã‚Œã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ãƒ»ãƒ»ãƒ»æ§˜ã«ã¯ãªã£ã¦ã„ã¾ã›ã‚“ãƒ»ãƒ»ãƒ»
RSpecã®åˆæœŸåŒ–ã¨ä»–2gemã®è¨­å®šãŒè¦ã‚Šã¾ã™

## RSpecã®åˆæœŸåŒ–
RSpecãŒä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã«ã¯ï¼ŒåˆæœŸåŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
ä»¥ä¸‹ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ï¼ŒåˆæœŸåŒ–ãŒè¡Œã‚ã‚Œã¾ã™

```
$ rspec --init
```

å®Ÿè¡Œã™ã‚‹ã¨ï¼Œ`.rspec`ã¨`spec/spec_helper.rb`ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™

``` :.rspec
--require spec_helper
```

```ruby:spec/spec_helper.rb
# This file was generated by the `rspec --init` command. Conventionally, all
# specs live under a `spec` directory, which RSpec adds to the `$LOAD_PATH`.
# The generated `.rspec` file contains `--require spec_helper` which will cause
# this file to always be loaded, without a need to explicitly require it in any
# files.
#
# Given that it is always loaded, you are encouraged to keep this file as
# light-weight as possible. Requiring heavyweight dependencies from this file
# will add to the boot time of your test suite on EVERY test run, even for an
# individual file that may not need all of that loaded. Instead, consider making
# a separate helper file that requires the additional dependencies and performs
# the additional setup, and require it from the spec files that actually need
# it.
#
# See http://rubydoc.info/gems/rspec-core/RSpec/Core/Configuration
RSpec.configure do |config|
  # rspec-expectations config goes here. You can use an alternate
  # assertion/expectation library such as wrong or the stdlib/minitest
  # assertions if you prefer.
  config.expect_with :rspec do |expectations|
    # This option will default to `true` in RSpec 4. It makes the `description`
    # and `failure_message` of custom matchers include text for helper methods
    # defined using `chain`, e.g.:
    #     be_bigger_than(2).and_smaller_than(4).description
    #     # => "be bigger than 2 and smaller than 4"
    # ...rather than:
    #     # => "be bigger than 2"
    expectations.include_chain_clauses_in_custom_matcher_descriptions = true
  end

  # rspec-mocks config goes here. You can use an alternate test double
  # library (such as bogus or mocha) by changing the `mock_with` option here.
  config.mock_with :rspec do |mocks|
    # Prevents you from mocking or stubbing a method that does not exist on
    # a real object. This is generally recommended, and will default to
    # `true` in RSpec 4.
    mocks.verify_partial_doubles = true
  end

  # This option will default to `:apply_to_host_groups` in RSpec 4 (and will
  # have no way to turn it off -- the option exists only for backwards
  # compatibility in RSpec 3). It causes shared context metadata to be
  # inherited by the metadata hash of host groups and examples, rather than
  # triggering implicit auto-inclusion in groups with matching metadata.
  config.shared_context_metadata_behavior = :apply_to_host_groups

# The settings below are suggested to provide a good initial experience
# with RSpec, but feel free to customize to your heart's content.
=begin
  # This allows you to limit a spec run to individual examples or groups
  # you care about by tagging them with `:focus` metadata. When nothing
  # is tagged with `:focus`, all examples get run. RSpec also provides
  # aliases for `it`, `describe`, and `context` that include `:focus`
  # metadata: `fit`, `fdescribe` and `fcontext`, respectively.
  config.filter_run_when_matching :focus

  # Allows RSpec to persist some state between runs in order to support
  # the `--only-failures` and `--next-failure` CLI options. We recommend
  # you configure your source control system to ignore this file.
  config.example_status_persistence_file_path = "spec/examples.txt"

  # Limits the available syntax to the non-monkey patched syntax that is
  # recommended. For more details, see:
  #   - http://rspec.info/blog/2012/06/rspecs-new-expectation-syntax/
  #   - http://www.teaisaweso.me/blog/2013/05/27/rspecs-new-message-expectation-syntax/
  #   - http://rspec.info/blog/2014/05/notable-changes-in-rspec-3/#zero-monkey-patching-mode
  config.disable_monkey_patching!

  # This setting enables warnings. It's recommended, but in some cases may
  # be too noisy due to issues in dependencies.
  config.warnings = true

  # Many RSpec users commonly either run the entire suite or an individual
  # file, and it's useful to allow more verbose output when running an
  # individual spec file.
  if config.files_to_run.one?
    # Use the documentation formatter for detailed output,
    # unless a formatter has already been configured
    # (e.g. via a command-line flag).
    config.default_formatter = "doc"
  end

  # Print the 10 slowest examples and example groups at the
  # end of the spec run, to help surface which specs are running
  # particularly slow.
  config.profile_examples = 10

  # Run specs in random order to surface order dependencies. If you find an
  # order dependency and want to debug it, you can fix the order by providing
  # the seed, which is printed after each run.
  #     --seed 1234
  config.order = :random

  # Seed global randomization in this process using the `--seed` CLI option.
  # Setting this allows you to use `--seed` to deterministically reproduce
  # test failures related to randomization by passing the same `--seed` value
  # as the one that triggered the failure.
  Kernel.srand config.seed
=end
end
```

`.rspec`ã«ãƒ†ã‚¹ãƒˆã§ä½¿ã†è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã‚’è¡Œã„ï¼Œ`spec/spec_helper.rb`ã§å…·ä½“çš„ãªãƒ†ã‚¹ãƒˆã®è¨­å®šã‚’æ›¸ãã‚ˆã†ãªæ„Ÿã˜ã§ã™(å¤šåˆ†)
ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ãŸã¨ãã«ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å–ã£ã¦æ¬²ã—ã„ã®ã§ï¼Œ`spec/spec_helper.rb`ã«ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨­å®šã‚’æ›¸ãè¾¼ã¿ã¾ã™

## simplecovã®è¨­å®š
æœ€çµ‚çš„ã«ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã—ãŸ

```ruby:spec/spec_helper.rb
require 'simplecov'

SimpleCov.start

RSpec.configure do |config|
end
```

å®Ÿéš›ã¯`RSpec.configure`ã®ãƒ–ãƒ­ãƒƒã‚¯ã«è‰²ã€…æ›¸ãã®ã§ã—ã‚‡ã†ãŒï¼Œä»Šå›žã¯ä¸è¦ã§ã‚‚å‹•ä½œã™ã‚‹ã®ã§ã™ã¹ã¦å‰Šé™¤ã—ã¾ã—ãŸ
~~å€‹äººçš„ã¯`SimpleCov.start`ãŒã‚ã‚‹ãªã‚‰`SimpleCov.end`ã‚‚ã‚ã£ã¦ã‚‚ã„ã„ã˜ã‚ƒãªã„ã‹!æ€ã£ã¦ã¾ã™(æ›¸ã„ãŸã‚‰è½ã¡ã¾ã™)~~

# ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ä½œæˆ
ã“ã“ã¾ã§æ¥ãŸã‚‰ï¼ŒRSpecã‚’ä½¿ã£ã¦ã®ãƒ†ã‚¹ãƒˆãŒå¯èƒ½ã«ãªã‚Šã¾ã™

## å®Œæˆå½¢
ã„ããªã‚Šã§ã™ãŒï¼Œå…ˆã«å®Œæˆå½¢ã‹ã‚‰ãƒ»ãƒ»ãƒ»
ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã¯ä»¥ä¸‹ã§ã™

```
â”‚  .rspec
â”‚  
â”œâ”€lib
â”‚      hello.rb
â”‚      sample_test.rb
â”‚      
â””â”€spec
    â”‚  spec_helper.rb
    â”‚  
    â””â”€lib
            hello_spec.rb(hello.rbã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‚¯ãƒ©ã‚¹)
            sample_test_spec.rb(sample_test.rbã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‚¯ãƒ©ã‚¹)
```

`lib`ã«ã‚ã‚‹å„ã‚½ãƒ¼ã‚¹ã®å†…å®¹ãŒä»¥ä¸‹ã§ã™

```ruby:sample_test.rb
require 'hello'

class SampleTest
  def get_text
    "sampleSample"
  end

  def calcate(mode, num1, num2)
    if mode.eql?("plus")
      num1 + num2
    elsif mode.eql?("minus")
      num1 - num2
    else
      'not mode'
    end
  end

  def get_hello
    hello = Hello.new
    hello.get_text
  end
end
```

```ruby:hello.rb
class Hello
  def get_text
    'Hello!'
  end
end
```

ã“ã‚Œã‚‰ã«å¯¾ã—ã¦ã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã¯ä»¥ä¸‹ã§ã™

```ruby:sample_test_spec.rb
require 'rspec-parameterized'
require './spec/spec_helper'
require './lib/sample_test'

describe 'sample_test' do
  subject{SampleTest.new}

  # ãƒ†ã‚¹ãƒˆã®åŸºæœ¬å½¢
  it 'get_text' do
    expect(subject.get_text).to eq 'sampleSample'
  end

  # ãƒ‘ãƒ©ãƒ¡ã‚¿ãƒ©ã‚¤ã‚ºãƒ‰ãƒ†ã‚¹ãƒˆ
  using RSpec::Parameterized::TableSyntax
  where(:mode, :num1, :num2, :result_calculate) do
    'plus'  | 1  | 2 | 3
    'minus' | 3  | 1 | 2
    'plus'  | 10 | 1 | 11
    'mode'  | 5  | 7 | 'not mode'
  end

  with_them do
    it 'calcate' do
      expect(subject.calcate(mode, num1, num2)).to eq result_calculate
    end
  end

  # ãƒ¢ãƒƒã‚¯ã‚’åˆ©ç”¨ã—ãŸãƒ†ã‚¹ãƒˆ
  it 'get_hello' do
    # Helloã‚¯ãƒ©ã‚¹ã®ãƒ¢ãƒƒã‚¯ã‚’ç”¨æ„
    hello_mock = instance_double(Hello)
    # Helloã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã‚‹æ™‚ï¼Œãƒ¢ãƒƒã‚¯ã‚’è¿”ã™æ§˜ã«ã™ã‚‹
    allow(Hello).to receive(:new).and_return(hello_mock)
    # Helloã‚¯ãƒ©ã‚¹ã®get_textãŒå‘¼ã³å‡ºã•ã‚ŒãŸæ™‚ï¼Œmocking_helloã‚’è¿”ã™ã‚ˆã†ã«ã™ã‚‹
    allow(hello_mock).to receive(:get_text).and_return('mocking_hello')
    expect(subject.get_hello).to eq 'mocking_hello'
  end
end
```

```ruby:hello_spec.rb
require 'rspec-parameterized'
require './spec/spec_helper'
require './lib/hello'

describe 'hello' do
  subject{Hello.new}
  it 'get_text' do
    expect(subject.get_text).to eq 'Hello!'
  end
end
```

è‡ªåˆ†ã®ç†è§£ã‚‚è¾¼ã‚ã¦æ™®é€šã®Rubyã§ã¯è¦‹ã‹ã‘ãªã„ï¼ŒRSpecç‰¹æœ‰ã®è¨˜æ³•ã‚’ä¸­å¿ƒã«èª¬æ˜Žã—ã¦ã¿ã¾ã™
ã¡ãªã¿ã«ï¼Œãƒ†ã‚¹ãƒˆãŒå‹•ãã“ã¨ã‚’ä¸­å¿ƒã«ã—ãŸã„ã®ã§ï¼Œç´°ã‹ã„å‹•ä½œã¨ã‹ã¯å‰²æ„›ã§ã™

## describe/it
ã‚³ãƒ¡ãƒ³ãƒˆã«è¿‘ã„ãŒï¼Œãƒ†ã‚¹ãƒˆã«å¤±æ•—ã™ã‚‹ã¨ç”»é¢ä¸Šã«ã“ã“ã«æ›¸ã‹ã‚ŒãŸå†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
ãªã®ã§ï¼Œã©ã®ã‚¯ãƒ©ã‚¹ã§ã©ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹ã®ã‹ã‚’è¨˜è¼‰ã—ã¦ï¼Œãƒ†ã‚¹ãƒˆã«å¤±æ•—ã—ãŸã¨ãã®ç›®å°ã«ã§ãã¾ã™
ä»–ã«ã‚‚ä¼¼ãŸã‚ˆã†ãªã‚‚ã®(?)ã«`context`ã‚„`example`ã¨ã‹ã‚ã‚Šã¾ã™ãŒï¼Œä»Šå›žã¯ä½¿ãˆã‚Œã°ã„ã„ã®ã§ã“ã‚Œã‚‰4ã¤ã‚’ã©ã†ä½¿ãˆã°ã„ã„ã®ã‹ã¯å‰²æ„›ã—ã¾ã™
å‚è€ƒã«ã—ãŸã®ã¯

* [RSpecã®(describe/context/example/it)ã®ä½¿ã„åˆ†ã‘](https://qiita.com/uchiko/items/d34c5d1298934252f58f)
* [ã€Ruby on Railsã€‘RSpecã®describe/context/itã®æ„å‘³ã‚’ç†è§£ã—ãŸä»¶](https://qiita.com/maeko/items/d7965be4adbeb2490229)

ãªã©ï¼Œããã£ãŸã‚‰ãŸãã•ã‚“å‡ºã¦ãã¾ã—ãŸ

## subject
ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¨­å®šã§ãã¾ã™
ä»Šå›žã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã—ã¾ã—ãŸ
ã“ã‚Œã‚’ä½¿ã†ã¨ï¼Œä½•åº¦ã‚‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ãŸã‚Šã™ã‚‹å¿…è¦ãŒãªããªã‚ŠDRYãªãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§ã„ã„æ„Ÿã˜ã«æ›¸ã‘ã¾ã—ãŸ
ã•ã£ãæŒ™ã’ãŸ`context`ã‚„`example`ã¨ã‹ã‚’é§†ä½¿ã—ãŸã‚‰ã‚‚ã£ã¨ã„ã„æ„Ÿã˜ã«æ›¸ã‘ã‚‹ã‹ã‚‚ã§ã™ãŒï¼Œä»Šå›žã¯å‰²æ„›

## expect
**RSpecã§ä¸€ç•ªå¤§äº‹ãªã¨ã“ã‚**
ã“ã“ã§å®Ÿéš›ã«ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™
åŸºæœ¬çš„ãªæ§‹æ–‡ã¯`expect(ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®ãƒ¡ã‚½ãƒƒãƒ‰).A B æœŸå¾…å€¤`ã§ã™
èª¿ã¹ãŸä¸­ã§ï¼Œã‚ˆãä½¿ã„ãã†ãª`A`ã«å…¥ã‚‹ã®ã¯ä»¥ä¸‹ã§ã™

|æ§‹æ–‡|æ„å‘³|
|----:|:----------------------------|
|to|æœŸå¾…å€¤ãŒBã§ã‚ã‚‹ã“ã¨|
|not_to|æœŸå¾…å€¤ãŒBã§ãªã„ã“ã¨|
|to_not|æœŸå¾…å€¤ãŒBã§ãªã„ã“ã¨(not_toã¨åŒã˜)|

èª¿ã¹ãŸä¸­ã§ï¼Œã‚ˆãä½¿ã„ãã†ãª`B`ã«å…¥ã‚‹ã®ã¯ä»¥ä¸‹ã§ã™

|æ§‹æ–‡|æ„å‘³|
|----:|:----------------------------|
|eq|ç­‰ã—ã„|
|be >=|ä»¥ä¸Š|
|be <|æœªæº€|
|be_truthy|ãƒ†ã‚¹ãƒˆå¯¾è±¡ãŒtrue(æœŸå¾…å€¤ä¸è¦)|
|be_falsey|ãƒ†ã‚¹ãƒˆå¯¾è±¡ãŒfalse(æœŸå¾…å€¤ä¸è¦)|
|raise_error|æœŸå¾…å€¤ã®ä¾‹å¤–ãŒç™ºç”Ÿ|

`be ä¸ç­‰å·`ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã¯ä»¥ä¸Šã¨æœªæº€ã—ã‹ç´¹ä»‹ã—ã¦ã„ã¾ã›ã‚“ãŒï¼Œã‚‚ã¡ã‚ã‚“ä»¥ä¸‹ã‚„ã‚ˆã‚Šå¤§ãã„ã‚‚å¯èƒ½ã§ã™
2ã¤ã®è¡¨ã‚’å‚è€ƒã«ã™ã‚‹ã¨ï¼Œãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã«ã‚ã‚‹`expect(subject.get_text).to eq 'sampleSample'`ã¯ï¼Œ
ã€Œ`subject.get_text`ãŒ`sampleSample`ã¨ç­‰ã—ã„(ã§ã‚ã‚‹)ã“ã¨ã€ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã¾ã™

## mock(ãƒ¢ãƒƒã‚¯)
**RSpecã§å¤§äº‹ã¨ã„ã†ã‚ˆã‚Šã‚‚ï¼Œå˜ä½“ãƒ†ã‚¹ãƒˆã¨ã„ã†ããã‚Šã§å¤§äº‹ãªã¨ã“ã‚**
ãƒ¢ãƒƒã‚¯ã¯ç‰¹å®šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã‚„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ãŸæ™‚ï¼Œå®Ÿéš›ã®ã‚½ãƒ¼ã‚¹ã®å‹•ä½œã‚’è¡Œã£ã¦å€¤ã‚’è¿”ã•ãšã«å®Ÿéš›ã®ã‚½ãƒ¼ã‚¹ã®å‹•ä½œã‚’è¡Œã‚ãšã«ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã§è¨­å®šã—ãŸå€¤ã‚’è¿”ã™æ©Ÿèƒ½ã®ã“ã¨ã§ã™
ã‚½ãƒ¼ã‚¹ã§ã¯`sample_test#get_hello`ã®ãƒ†ã‚¹ãƒˆæ™‚ã«ãƒ¢ãƒƒã‚¯ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™

## ãƒ‘ãƒ©ãƒ¡ã‚¿ãƒ©ã‚¤ã‚ºãƒ‰ãƒ†ã‚¹ãƒˆ
RSpecã¨ã„ã†ã‚ˆã‚Šã‚‚ï¼Œrspec-parameterizedã®èª¬æ˜Žã§ã™
`calcate`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹ã¨ãã«ä½¿ç”¨ã—ã¦ã¾ã™
ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒé•ã†ã ã‘ã®æ™‚ï¼Œéžå¸¸ã«é‡å®ã—ã¾ã™
ä»Šå›žã¯è¡¨ã®ã‚ˆã†ã«ä½¿ã£ã¦ã„ã‚‹ã®ã§ï¼Œä½¿ã†å‰ã«`using RSpec::Parameterized::TableSyntax`ã§ä½¿ã†å®£è¨€ã—ã¦ã‹ã‚‰è¡¨ã‚’ä½¿ã‚ãªã„ã¨æ€’ã‚‰ã‚Œã¾ã™ãƒ»ãƒ»ãƒ»
ã¡ãªã¿ã«ãƒ†ã‚¹ãƒˆã®ä»¶æ•°ã¯è¡Œæ•°ã¨åŒã˜ã«ãªã‚‹ã®ã§ï¼Œã“ã“ã§ã¯4ä»¶ã«ãªã‚Šã¾ã™
ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã£ãŸå¾Œã«ã¾ãŸåˆ¥ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç”¨æ„ã™ã‚‹ã¨ï¼Œå‰ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ç ´æ£„ã•ã‚Œã‚‹ã‚ˆã†ã§ã™
2å›žç›®ä»¥é™ã¯`using RSpec::Parameterized::TableSyntax`ãŒä¸è¦ã§ã™

## simplecov
æœ€å¾Œã«ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å–ã£ã¦ãã‚Œã‚‹`simplecov`ã§ã™
'spec'ãŒã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§`$ rspec`ã¨å©ã„ã¦å®Ÿè¡Œã™ã‚‹ã¨ï¼ŒåŒéšŽå±¤ã«`coverage`ãŒå‡ºæ¥ä¸ŠãŒã‚Šï¼Œãã“ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™
HTMLãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã™ãŒï¼Œæ€ã„ã®å¤–ï¼Œé€Ÿæ”»ã§å‡ºåŠ›ã•ã‚Œã¾ã™
è¦‹ãŸç›®ã¯â†“ã®ç”»åƒã«ãªã‚Šã¾ã™

![image.png](https://qiita-image-store.s3.amazonaws.com/0/56006/dda0bbc8-f2a4-98c2-b18d-09d09585512e.png)
![image.png](https://qiita-image-store.s3.amazonaws.com/0/56006/ecbf6f5f-0f86-c6c1-8ffa-2057ece12b6c.png)

ã‚½ãƒ¼ã‚¹ã®å³å´ã«ã¯ãƒ†ã‚¹ãƒˆã§é€šéŽã—ãŸå›žæ•°ãŒè¼‰ã£ã¦ãŸã‚Šã—ã¾ã™

# ã“ã‚Œã‹ã‚‰ã‚„ã‚ŠãŸã„ã“ã¨
å˜ä½“ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ï¼ŒJenkinsã®ã‚ˆã†ãªCIãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦è‡ªå‹•ã§ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¦ãƒ‡ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’å›žé¿ã§ãã‚‹ç’°å¢ƒã‚’ä½œã‚ŠãŸã„ãƒ»ãƒ»ãƒ»
